---
layout: post
title: Linux 下飞鸽传书的两个问题的解决
categories:
- TooYoung
tags:
- charset
- core dumped
- g2ipmsg
- 飞鸽
published: true
comments: true
---
<p>—————————— 02.27问题 显示乱码的解决 ——————————</p>

<p>前不久<a href="http://www.ipmsg.org/index.html.en" target="_blank">飞鸽</a>的GNOME2版本更新到了0.9.5，编译后却发现中文的用户名不能显示了。</p>

<p>参考了此页<a href="http://www.linuxidc.com/Linux/2007-06/4804.htm" target="_blank">http://www.linuxidc.com/Linux/2007-06/4804.htm</a></p>

<p>修改后发现没用。仔细看了下codeset.c文件的代码，发现应该这么修改</p>

<p>到源码文件夹下，src文件夹下，codeset.c文件，找到
<blockquote><code>#define IPMSG_INTERNAL_CODE "UTF-8"<br />
#define IPMSG_PROTO_CODE    IPMSG_INTERNAL_CODE</code></blockquote>
<!--more-->将下面一行改为
<blockquote><code>#define IPMSG_PROTO_CODE    "GBK"</code></blockquote>
保存后编译安装。</p>

<p>成功显示中文。</p>

<p>然而在同学的机器上不修改源代码也能正确显示中文。联想到前几天checkgmail的乱码问题，还有时不时发生的不能输入中文的问题（就是启动后，在任何可以输入文字的地方输入中文，显示的是一堆乱码），觉得这应该和系统有关，而不是一个普遍现象。</p>

<p>看来只能针对自己的机器问题自己分析了。</p>

<p>—————————— <strong>03.12更新，关于启动时出现core dump的问题的解决 </strong>——————————</p>

<p>今天再次编译了g2ipmsg0.9.5，结果启动后没反应。到终端下运行发现只有一条core dump命令。</p>

<p>上网搜索无果。</p>

<p>于是漫无目的地在编译输出里寻找，果真找到了：</p>

<p>./configure之后的结果如下——
<blockquote><code>...<br />
checking for GST... no<br />
configure: WARNING: You need GStreamer-0.10 or later installed if you need sound relevant functions<br />
configure: creating ./config.status<br />
config.status: creating Makefile<br />
config.status: creating src/Makefile<br />
config.status: creating po/Makefile.in<br />
...
</code></blockquote>
突然想起来GTK2的飞鸽启动后会有音乐，看来是因为这个的原因。</p>

<p>找到了问题，还有什么好说的呢，
<blockquote>sudo apt-get install gstreamer0.10-*</blockquote>
———————————— <strong>08.01更新 关于core dump的新问题</strong> ————————————</p>

<p>有时候装了gstreamer也会core dump，有个偏方可以试试：用sudo执行飞鸽，然后重启，正常执行。</p>
