
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Caspar Blog  | Ant-Veil</title>

	<meta name="author" content="Caspar"> 
	
	<meta name="description" content="Issue: 雷蛇八歧大蛇2013版鼠标，短时间内不用自动休眠，系统中蓝牙连接断(expected)，鼠标从休眠恢复后系统中的蓝牙连接却无法自动重连，只能将鼠标置为配对模式，通过系统中的蓝牙工具手工连接。 Environment: Razer Orochi 蓝牙鼠标
Gentoo + KDE &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Ant-Veil" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css">
	
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	
</head>



<body>
	<header id="header" class="inner"><h1>Ant-Veil</h1>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archive</a></li>
	<li><a href="/blog/about">About</a></li>
    <li><a href="/blog/categories/kernel">Kernel</a></li>
    <li><a href="/blog/categories/z-turn">Z-Turn</a></li>
</ul>
</nav>


</header>

	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/10/10/fix-razer-orochi-re-connect-issue/">
		
			Fix Razer Orochi Re-connect Issue</a>
	</h2>
	<div class="entry-content">
		<p>Issue:</p>

<p>雷蛇八歧大蛇2013版鼠标，短时间内不用自动休眠，系统中蓝牙连接断(expected)，鼠标从休眠恢复后系统中的蓝牙连接却无法自动重连，只能将鼠标置为配对模式，通过系统中的蓝牙工具手工连接。</p>

<p>Environment: </p>

<p><blockquote>Razer Orochi 蓝牙鼠标<br />
Gentoo + KDE<br />
kernel 3.10 ~ 3.16<br />
bluez 4.101 ~ 5.23<br />
bluedevil 1.3.2 ~ 2.0_rc1</blockquote></p>

<p>Solution:</p>

<p>
		
		<a href="/blog/2014/10/10/fix-razer-orochi-re-connect-issue/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  



<time datetime="2014-10-10T00:00:00+08:00" pubdate data-updated="true">Oct 10th, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/deprecated/'>deprecated</a>

</div>


</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/21/configure-openconnect-in-gentoo-kde/">
		
			Gentoo KDE 下折腾 OpenConnect</a>
	</h2>
	<div class="entry-content">
		<p>最近呢，推上某奸商推出了 AnyConnect 套餐，这对广大翻墙群众来说绝对是个利好消息啊，可以自动配路由的东东。我毫不犹豫去把自己的绝版廉价套餐换成了100元的套餐，然后开始折腾 AnyConnect 配置。</p>

<p>iOS上配置十分简单，找到 Cisco AnyConnect 这个 App 就搞定。Linux 下要把它配置得很舒服，着实花了一番功夫。</p>

<p>公司 VPN 用的也是 AnyConnect，我就继续用着公司的客户端(Cisco AnyConnect Secure Mobility Client), 直到今天早上我修复了笔记本上的无线网，机器有了两个IP为止。有了两个IP的 AnyConnect service 居然segfault了，看了一下 debug 信息，我觉得对这种闭源工具我还是别折腾了。直接换开源方案 OpenConnect.</p>

<p>Portage 里搜了一下，openconnect 有两个包，networkmanager-openconnect 有 libkeyring-gnome 依赖，我现在是个有洁癖的 KDE 党，果断不能装啊，于是用第二个， openconnect 命令行版…… 不行，不能这么罗里八嗦，反正最后折腾结果如下：</p>

<p>
		
		<a href="/blog/2014/03/21/configure-openconnect-in-gentoo-kde/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  



<time datetime="2014-03-21T00:00:00+08:00" pubdate data-updated="true">Mar 21st, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/deprecated/'>deprecated</a>

</div>


</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/11/an-introduction-of-wiz-note/">
		
			WizNote: 终于找到比较干净的QT的笔记软件</a>
	</h2>
	<div class="entry-content">
		<p>Linux上记笔记，向来很纠结。以前用过一段时间<a href="http://zim-wiki.org/index.html" target="_blank">Zim</a>，后来变成了KDE党，只好果断抛弃了。找到<a href="http://basket.kde.org/" target="_blank">BasKet</a>，功能还是很强大的，可是格式一团糟。无法以Plain Text存储文字，拷贝来拷贝去的时候经常格式混乱。也尝试在Web端存东西，结果还是发现不习惯，而且离线无法访问。</p>

<p>然后今天工作的时候有同事提到客户报告鄙厂<a href="http://www.aliyun.com/" target="_blank">产品</a>的问题，碰到了故障（当然在内核组大牛们的努力下该问题已经解决了），我就好奇去看了一下报告者信息，然后就发现了这个笔记软件：<a href="http://wiz.cn/index.html" target="_blank">Wiz</a>. 看起来还挺Geek的，有手机端有Linux端有Mac OS端。于是去gentoo-zh的Overlay找了一圈（是的，5年过去了我还在Gentoo的不归路上慢慢走着），<a href="https://github.com/microcai/gentoo-zh/blob/master/app-text/wiznote/wiznote-2.0.64.ebuild" target="_blank">找到了</a>。</p>

<p><a href="http://img.ant.im/di-PSVM.png"><img align="center" width="400" src="http://img.ant.im/di-PSVM.png" alt="Wiz" /></a></p>

<p>看起来样子还不错，还比较清爽，也可以格式化为Plain Text。功能上比BasKet少一些，但是用着还是挺舒服的。</p>

<p>最不能忍受的问题是没有任务栏图标，于是接着搜。</p>

<p>找到了一年前某人的一个没有Merge的<a href="https://github.com/WizTeam/WizQTClient/pull/80" target="_blank">Pull Request</a>，然后稍微修改了一下补丁，打到源代码里，发现可以用了。</p>

<p>修改后的ebuild请<a href="https://github.com/casparant/caspar-gentoo/blob/master/app-text/wiznote/wiznote-2.1.0_beta.ebuild" target="_blank">猛戳</a>。</p>

<p>最后，有更靠谱的笔记软件请推荐。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  



<time datetime="2014-03-11T00:00:00+08:00" pubdate data-updated="true">Mar 11th, 2014</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/deprecated/'>deprecated</a>

</div>


</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/06/06/some-misc-items-of-mce/">
		
			Mce的一些零散记录</a>
	</h2>
	<div class="entry-content">
		<p>以前也测过MCE相关的东西，但是惭愧，一直不清不楚。这两天稍微整理了一下相关知识，感觉见识还是很浅，记些零碎的东西在这，权当博客复活第一篇。如有理解错误，欢迎指出。</p>

<p>CPU检测到硬件错误时，内核会报Machine-check，根据硬件错误是否可以修正(CE, Correctable Error; UCE/UE, Un-correctable Error)，内核做出不同反应。CE的话内核只把相关信息写到一个字符设备/dev/mcelog中，UE的话是会在记录相关信息之余，还会做出不同处理，比如中断当前遇错的应用程序，或者Panic. [TODO: 这块相关的内核代码还得再看几遍]</p>

<p>/dev/mcelog中的信息可以用用户空间工具<a href="https://github.com/andikleen/mcelog" target="_blank">mcelog</a>来读取。mcelog比较有意思的一个参数是<code>--dmi</code>，可以尝试解析ADDR字段以获取诸如内存出厂信息，DIMM位置等有用的信息，可是很遗憾在实际环境中这些DIMM信息基本上都是错的。（mcelog man page说了，不要怪Linux，得怪那稀奇古怪的主板厂商……）</p>

<p>mcelog man page还有一个地方提到：</p>

<p><blockquote>The kernel prefers old messages over new. If the log buffer overflows only old ones will be kept.</blockquote></p>

<p>
		
		<a href="/blog/2013/06/06/some-misc-items-of-mce/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  



<time datetime="2013-06-06T00:00:00+08:00" pubdate data-updated="true">Jun 6th, 2013</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/deprecated/'>deprecated</a>

</div>


</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/01/03/how-to-update-your-git-patches/">
		
			Resolved: 如何更新git补丁</a>
	</h2>
	<div class="entry-content">
		<p>使用git制作补丁时，经常发现补丁需要修改。如果只是最后一次commit需要修改，那就好办，用下面的方法就可以搞定：
<pre lang="bash">
$ git reset HEAD^
# edit edit edit
$ git commit -a -s -c ORIG_HEAD
$ git format-patch --subject-prefix="PATCH v2"
</pre></p>

<p>但是如果是一系列补丁中的中间几个补丁需要修改，该怎么办呢？</p>

<p><del datetime="2012-01-03T16:12:57+00:00">笨办法已经被删掉>.<</del></p>

<p>
		
		<a href="/blog/2012/01/03/how-to-update-your-git-patches/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  



<time datetime="2012-01-03T00:00:00+08:00" pubdate data-updated="true">Jan 3rd, 2012</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/deprecated/'>deprecated</a>

</div>


</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/10/12/cm7-1-on-defy/">
		
			CM7.1 on DEFY</a>
	</h2>
	<div class="entry-content">
		<p>CyanogenMod, the community Android mod, is officially <a href="http://www.cyanogenmod.com/blog/cyanogenmod-7-1-released" target="_blank">supporting Motorlora Defy</a> in the latest release CM7.1. Now the system seems running well on my device.</p>

<p>Why I want CM7.1 on my machine:</p>

<p><ul>
	<li>try something new</li>
	<li>I need openvpn</li>
	<li>2.3.4 ROM for ME525+ not working well on my device :-(</li>
</ul></p>

<p>I followed most of the instructions from <a href="http://forum.cyanogenmod.com/topic/32469-cyanogenmod-7-for-the-motorola-defy-v710-9-oct-2011/" target="_blank">the post in CM forum</a>, except that I didn't install gapps-gb-20110828. For some reason, <em>Android Market</em> from 20110828 package continously got crashed once I opened the application. I tried with <a href="http://goo-inside.me/gapps/gapps-gb-20110613-signed.zip" target="_blank">gapps-gb-20110613</a> and <em>Android Market</em> worked as normal, so I recommend using this version of gapps if you ever encountered similar issue like me.</p>

<p>
		
		<a href="/blog/2011/10/12/cm7-1-on-defy/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  



<time datetime="2011-10-12T00:00:00+08:00" pubdate data-updated="true">Oct 12th, 2011</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/deprecated/'>deprecated</a>

</div>


</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/07/16/beginning-of-my-third-year-in-red-hat/">
		
			在Red Hat两年</a>
	</h2>
	<div class="entry-content">
		<p>已经进入我在Red Hat的第三年了，看到两年来这贫瘠无比的博客，决定把阶段总结发到这里来，挽回一下我那正在疯狂下滑的订阅数，嗯。回头看了一下以前的日志，去年这个时候竟然没有写总结，干脆两年的一起写好了。行文照旧会比较混乱，请将就将就。</p>

<p>刚以实习生身份进入Red Hat时，主要工作就是验Bug。记得当时很多Bug的描述都很不清晰，往往一个Bug就浪费一两天时间去分析。有的Bug还不能用脚本重现，只能物理接触硬件。有一次在机房里呆了一个下午，要用针头去戳机器上的一个小孔[<a href="http://en.wikipedia.org/wiki/Non-maskable_interrupt" target="_blank">1</a>]，戳了我整整一个下午。类似的折腾人的Bug仿佛是永远都不会消失，现在我还在跟他们打交道。</p>

<p>一个月后，老板让我了解一个测试套件<a href="http://ltp.sourceforge.net/" target="_blank">LTP</a>，之前是他一直在维护这个工具在内部测试平台上的正常运行，交给我之后他基本上就没再怎么管过它了（直到最近，他开始往LTP提交内存相关的测试代码，这是后话了）。我当时的基本工作就是定期把LTP的稳定发布版本移植回内部测试平台，然后如果运行出错，根据运行情况如果是LTP的问题，就写一些补丁来修复LTP运行时出现的错误。从此我才正式结束和开源项目社区浅尝辄止的试水活动，开始深入社区贡献代码。为LTP编写补丁对我的帮助很大，一方面跟编写补丁相关的工具，比如说git，都熟练掌握了；另一方面通过熟悉LTP的测试代码，了解了很多从用户空间测试内核功能的方法；而且我也学会了怎么在邮件列表里面跟开发者吵架:)</p>

<p>
		
		<a href="/blog/2011/07/16/beginning-of-my-third-year-in-red-hat/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  



<time datetime="2011-07-16T00:00:00+08:00" pubdate data-updated="true">Jul 16th, 2011</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/deprecated/'>deprecated</a>

</div>


</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2011/03/03/jibber-jabber-on-the-resumes/">
		
			关于简历的杂碎</a>
	</h2>
	<div class="entry-content">
		<p>最近在帮组里招人，不过一直没有招到合适的（去年校园招聘时候招到过一个合适的，结果被隔壁<a href="http://twitter.com/#!/guaneryu" _target="new">@GMoto</a>组里给抢去了……泪了个奔的）。一直不停地在系统里刷简历，邮件列表里收简历，于是有些碎碎念就冒出来了。想到我不久以前也是简历那一头的角色，现在变成站在这一边的角色了，正好可以忆苦思甜，对比一下。丢在这里，大家凑合着看。</p>

<p>首先得先介绍一下我所在的公司的背景，因为不同公司对待简历有不同的风格。好多人都知道，我现在呆在Red Hat，就是那个跟某快递公司重名的做Linux的公司。至少我们研发部门这边，不会因为简历没写称呼没写落款就不看，也不会因为简历排版混乱就丢在一旁，甚至发现提交的是个Word文档，或者联系邮箱留了个带qq号码的qq邮箱也会认真的去看——只不过第一印象和心理上已经有些想法而已。一般来说，我们喜欢排版简洁的正文简历和pdf简历，如果能提交个odt格式的也能感觉出投简历的人确实是用心的。另外不是为了装X，我们要求中英文简历是因为，如果面试结果良好，通常把简历会转交给国外的同事看，决定是否进一步面试。</p>

<p>小结一下，不管简历样式有多糟糕，只要能打开，我们就会认真看。当然非常不幸地，这也是我觉得某些提交简历的同学是折翼的天使的原因。</p>

<p>
		
		<a href="/blog/2011/03/03/jibber-jabber-on-the-resumes/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  



<time datetime="2011-03-03T00:00:00+08:00" pubdate data-updated="true">Mar 3rd, 2011</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/deprecated/'>deprecated</a>

</div>


</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2010/08/20/libfprint-finally-supports-thinkpad-t410/">
		
			Libfprint Finally Supports Thinkpad T410</a>
	</h2>
	<div class="entry-content">
		<p>I have been keeping tracking of <a href="https://bugzilla.redhat.com/show_bug.cgi?id=504399" target="_blank">this RHBZ</a> for long, and I am happy to see libfprint finally supports my fingerprint reader on T410. Seems that the original author Daniel(dsd) was very busy so that another developer in Red Hat, Bastien Nocera, took this project instead. He moved the libfprint git repo to freedesktop.org, with the newest patches applied. You can find the new git repo <a href="http://cgit.freedesktop.org/libfprint/libfprint/" target="_blank">here</a>, and new libfprint release(0.2.0) <a href="http://freedesktop.org/~hadess/libfprint-0.2.0.tar.bz2" target="_blank">here</a>. Bastien Nocera is also maintaining <a href="http://www.reactivated.net/fprint/wiki/Fprintd" target="_blank">fprintd</a>, "a D-Bus daemon that offers libfprint functionality over the D-Bus interprocess communication bus". The git repo and new release are located <a href="http://cgit.freedesktop.org/libfprint/fprintd/" target="_blank">here</a> and <a href="http://freedesktop.org/~hadess/fprintd-0.2.0.tar.bz2" target="_blank">here</a>.</p>

<p>Besides the RHBZ mentioned above, you should be able to get more information from this <a href="http://lists.reactivated.net/pipermail/fprint/2010-August/001530.html" target="_blank">message</a> in fprint mailing list.</p>

<p>I updated my gentoo overlay in github, too. You can emerge libfprint and fprintd after you synchronized <a href="http://github.com/casparant/caspar-gentoo" target="_blank">this</a> overlay.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  



<time datetime="2010-08-20T00:00:00+08:00" pubdate data-updated="true">Aug 20th, 2010</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/deprecated/'>deprecated</a>

</div>


</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2010/08/06/enable-fingerprint-in-thinkpad-t410-under-gentoo/">
		
			Enable Fingerprint in Thinkpad T410 Under Gentoo</a>
	</h2>
	<div class="entry-content">
		<p>As I mentioned in the <a href="http://www.casparzhang.com/blog/2010/07/02/back-to-gentoo-again/" target="_blank">previous post</a>, I couldn't get my fingerprint reader work in Gentoo. Now this problem has been solved. ;-)</p>

<p>Before starting, here're some useful links may help those who are suffering from similar fingerprint issues like me:</p>

<p>If you're using a fingerprint with USB id "147e:2016", you can have a look at <a href="http://www.thinkwiki.org/wiki/Integrated_Fingerprint_Reader" target="blank">this thinkwiki link</a>, The "147e:2016" item is updated recently: a Red Hat Bugzilla URL added.</p>

<p>This <a href="https://bugzilla.redhat.com/show_bug.cgi?id=504399" target="blank">RHBZ</a> link tried to enable TCRD4C devices, but seemed that my fingerprint was another different type since it still did not work after applied all the patches attached.</p>

<p>------>8------ Cutting, Let's enable T410 fingerprint ------>8------</p>

<p>Using <a href="http://www.n-view.net/Appliance/fingerprint/" target="_blank">Fingerprint-GUI</a> and <a href="http://www.upek.com/solutions/pc_and_networking/sdks/linux/" target="_blank">UPEK SDK</a> can easily enable fingerprint reader in T410. Fingerprint-GUI provides an integration of setup GUI, authentication plugin, PAM module and the UPEK library, all of the GUI parts are written with QT4 (I don't like it :-\), released under GPL-v3 licence. However, UPEK SDK library is EULA copyrighted and seems never to release the code to us.</p>

<p>
		
		<a href="/blog/2010/08/06/enable-fingerprint-in-thinkpad-t410-under-gentoo/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">








  



<time datetime="2010-08-06T00:00:00+08:00" pubdate data-updated="true">Aug 6th, 2010</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/deprecated/'>deprecated</a>

</div>


</div>
</article>


<nav id="pagenavi">
    
    
        <a href="2" class="next">Next</a>
    
</nav>

</div>
	<footer id="footer" class="inner">Copyright &copy; 2015
 Caspar 
<br>
Powered by Octopress.
</footer>
	

</body>
</html>
