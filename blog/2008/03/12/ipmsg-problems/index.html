
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Linux下飞鸽传书的两个问题的解决  | Ant-Veil</title>

	<meta name="author" content="Caspar"> 
	
	<meta name="description" content="—————————— 02.27问题 显示乱码的解决 —————————— 前不久飞鸽的GNOME2版本更新到了0.9.5，编译后却发现中文的用户名不能显示了。 参考了此页http://www.linuxidc.com/Linux/2007-06/4804.htm 修改后发现没用。 &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Ant-Veil" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css">
	
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	
</head>



<body>
	<header id="header" class="inner"><h1>Ant-Veil</h1>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="blog/archives">Archive</a></li>
	<li><a href="blog/about">About</a></li>
    <li><a href="blog/categories/kernel">Kernel</a></li>
    <li><a href="blog/categories/z-turn">Z-Turn</a></li>
</ul>
</nav>


</header>

	<div id="content" class="inner"><article class="post">
	<h2 class="title">Linux下飞鸽传书的两个问题的解决</h2>
	<div class="entry-content"><p>—————————— 02.27问题 显示乱码的解决 ——————————</p>

<p>前不久<a href="http://www.ipmsg.org/index.html.en" target="_blank">飞鸽</a>的GNOME2版本更新到了0.9.5，编译后却发现中文的用户名不能显示了。</p>

<p>参考了此页<a href="http://www.linuxidc.com/Linux/2007-06/4804.htm" target="_blank">http://www.linuxidc.com/Linux/2007-06/4804.htm</a></p>

<p>修改后发现没用。仔细看了下codeset.c文件的代码，发现应该这么修改</p>

<p>到源码文件夹下，src文件夹下，codeset.c文件，找到
<blockquote><code>#define IPMSG_INTERNAL_CODE "UTF-8"<br />
#define IPMSG_PROTO_CODE    IPMSG_INTERNAL_CODE</code></blockquote>
<!--more-->将下面一行改为
<blockquote><code>#define IPMSG_PROTO_CODE    "GBK"</code></blockquote>
保存后编译安装。</p>

<p>成功显示中文。</p>

<p>然而在同学的机器上不修改源代码也能正确显示中文。联想到前几天checkgmail的乱码问题，还有时不时发生的不能输入中文的问题（就是启动后，在任何可以输入文字的地方输入中文，显示的是一堆乱码），觉得这应该和系统有关，而不是一个普遍现象。</p>

<p>看来只能针对自己的机器问题自己分析了。</p>

<p>—————————— <strong>03.12更新，关于启动时出现core dump的问题的解决 </strong>——————————</p>

<p>今天再次编译了g2ipmsg0.9.5，结果启动后没反应。到终端下运行发现只有一条core dump命令。</p>

<p>上网搜索无果。</p>

<p>于是漫无目的地在编译输出里寻找，果真找到了：</p>

<p>./configure之后的结果如下——
<blockquote><code>...<br />
checking for GST... no<br />
configure: WARNING: You need GStreamer-0.10 or later installed if you need sound relevant functions<br />
configure: creating ./config.status<br />
config.status: creating Makefile<br />
config.status: creating src/Makefile<br />
config.status: creating po/Makefile.in<br />
...
</code></blockquote>
突然想起来GTK2的飞鸽启动后会有音乐，看来是因为这个的原因。</p>

<p>找到了问题，还有什么好说的呢，
<blockquote>sudo apt-get install gstreamer0.10-*</blockquote>
———————————— <strong>08.01更新 关于core dump的新问题</strong> ————————————</p>

<p>有时候装了gstreamer也会core dump，有个偏方可以试试：用sudo执行飞鸽，然后重启，正常执行。</p>
</div>


<div class="meta">
	<div class="date">








  



<time datetime="2008-03-12T00:00:00+08:00" pubdate data-updated="true">Mar 12th, 2008</time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/deprecated/'>deprecated</a>

</div>


</div>
</article>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2015
 Caspar 
<br>
Powered by Octopress.
</footer>
	

</body>
</html>
